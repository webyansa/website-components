<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>حجز موعد زيارة</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.rtl.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="container booking-container">
        <div class="booking-card">
            <!-- Header -->
            <div class="booking-header">
                <h1>حجز موعد زيارة</h1>
                <p>يرجى تعبئة النموذج أدناه لحجز موعد زيارتك</p>
            </div>

            <!-- Form Body -->
            <div class="booking-body">
                <form id="appointmentForm">
                    <!-- Name and Email Row -->
                    <div class="row mb-4">
                        <div class="col-md-6 mb-3 mb-md-0">
                            <label for="name" class="form-label required-field">الاسم الكامل</label>
                            <input type="text" class="form-control" id="name" placeholder="أدخل اسمك الكامل" required>
                        </div>
                        <div class="col-md-6">
                            <label for="email" class="form-label required-field">البريد الإلكتروني</label>
                            <input type="email" class="form-control" id="email" placeholder="example@email.com" required>
                        </div>
                    </div>

                    <!-- Phone and Organization Row -->
                    <div class="row mb-4">
                        <div class="col-md-6 mb-3 mb-md-0">
                            <label for="phone" class="form-label required-field">رقم الجوال</label>
                            <input type="tel" class="form-control" id="phone" placeholder="05xxxxxxxx" required>
                        </div>
                        <div class="col-md-6">
                            <label for="organization" class="form-label required-field">اسم الجهة</label>
                            <input type="text" class="form-control" id="organization" placeholder="أدخل اسم الجهة" required>
                        </div>
                    </div>

                    <!-- Visit Type and Visitor Type Row -->
                    <div class="row mb-4">
                        <div class="col-md-6 mb-3 mb-md-0">
                            <label for="visitType" class="form-label required-field">نوع الزيارة</label>
                            <select class="form-select" id="visitType" required>
                                <option value="" selected disabled>اختر نوع الزيارة</option>
                                <option value="تعريفية">تعريفية</option>
                                <option value="إعلامية">إعلامية</option>
                                <option value="تطوعية">تطوعية</option>
                                <option value="تقييم مشروع">تقييم مشروع</option>
                                <option value="تعاون">تعاون</option>
                                <option value="طلابية">طلابية</option>
                                <option value="أخرى">أخرى</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label for="visitorType" class="form-label required-field">نوع الجهة / صفة الزائر</label>
                            <select class="form-select" id="visitorType" required>
                                <option value="" selected disabled>اختر نوع الجهة</option>
                                <option value="فرد">فرد</option>
                                <option value="جهة مانحة">جهة مانحة</option>
                                <option value="حكومية">حكومية</option>
                                <option value="إعلامية">إعلامية</option>
                                <option value="تعليمية">تعليمية</option>
                                <option value="تطوعية">تطوعية</option>
                                <option value="شريكة">شريكة</option>
                            </select>
                        </div>
                    </div>

                    <!-- Visit Reason -->
                    <div class="mb-4">
                        <label for="visitReason" class="form-label required-field">سبب الزيارة</label>
                        <input type="text" class="form-control" id="visitReason" placeholder="أدخل سبب الزيارة" required>
                    </div>

                    <!-- Message -->
                    <div class="mb-4">
                        <label for="message" class="form-label required-field">نص الرسالة</label>
                        <textarea class="form-control" id="message" rows="5" placeholder="أدخل تفاصيل إضافية عن موضوع الزيارة..." required></textarea>
                    </div>

                    <!-- Appointment Date and Time Section -->
                    <div class="appointment-section">
                        <h5>
                            <i class="bi bi-calendar-check"></i>
                            تفاصيل الموعد
                        </h5>
                        
                        <div class="row">
                            <!-- Date Picker -->
                            <div class="col-md-6 mb-4 mb-md-0">
                                <label for="appointmentDate" class="form-label required-field">موعد الزيارة</label>
                                <input type="date" class="form-control" id="appointmentDate" required>
                            </div>

                            <!-- Time Slots -->
                            <div class="col-md-6">
                                <label class="form-label required-field">
                                    <i class="bi bi-clock"></i>
                                    وقت الزيارة
                                </label>
                                <div class="time-slots">
                                    <div class="time-slot" onclick="selectTime(this, '9:00 AM')">9:00 AM</div>
                                    <div class="time-slot" onclick="selectTime(this, '10:00 AM')">10:00 AM</div>
                                    <div class="time-slot" onclick="selectTime(this, '11:00 AM')">11:00 AM</div>
                                    <div class="time-slot" onclick="selectTime(this, '2:00 PM')">2:00 PM</div>
                                    <div class="time-slot" onclick="selectTime(this, '3:00 PM')">3:00 PM</div>
                                    <div class="time-slot" onclick="selectTime(this, '4:00 PM')">4:00 PM</div>
                                </div>
                                <input type="hidden" id="selectedTime" required>
                            </div>
                        </div>
                    </div>

                    <!-- Submit Button -->
                    <div class="text-center mt-4">
                        <button type="submit" class="btn btn-submit">
                            <i class="bi bi-send-fill me-2"></i>
                            إرسال طلب الحجز
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div class="modal fade" id="successModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content" style="border-radius: 15px; border: none;">
                <div class="modal-body text-center p-5">
                    <div class="mb-4">
                        <i class="bi bi-check-circle-fill" style="font-size: 4rem; color: #28a745;"></i>
                    </div>
                    <h4 class="mb-3">تم إرسال الطلب بنجاح!</h4>
                    <p class="text-muted">سيتم التواصل معك قريباً لتأكيد الموعد</p>
                    <button type="button" class="btn btn-submit mt-3" data-bs-dismiss="modal">حسناً</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Set minimum date to today
        const today = new Date().toISOString().split('T')[0];
        document.getElementById('appointmentDate').setAttribute('min', today);

        // Time slot selection
        function selectTime(element, time) {
            // Remove selected class from all time slots
            document.querySelectorAll('.time-slot').forEach(slot => {
                slot.classList.remove('selected');
            });
            
            // Add selected class to clicked slot
            element.classList.add('selected');
            
            // Set hidden input value
            document.getElementById('selectedTime').value = time;
        }

        // Form submission
        document.getElementById('appointmentForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Check if time is selected
            if (!document.getElementById('selectedTime').value) {
                alert('يرجى اختيار وقت الزيارة');
                return;
            }

            // Get form data
            const formData = {
                name: document.getElementById('name').value,
                email: document.getElementById('email').value,
                phone: document.getElementById('phone').value,
                organization: document.getElementById('organization').value,
                visitType: document.getElementById('visitType').value,
                visitorType: document.getElementById('visitorType').value,
                visitReason: document.getElementById('visitReason').value,
                message: document.getElementById('message').value,
                appointmentDate: document.getElementById('appointmentDate').value,
                appointmentTime: document.getElementById('selectedTime').value
            };

            console.log('Appointment Data:', formData);

            // Show success modal
            const successModal = new bootstrap.Modal(document.getElementById('successModal'));
            successModal.show();

            // Reset form
            this.reset();
            document.querySelectorAll('.time-slot').forEach(slot => {
                slot.classList.remove('selected');
            });
        });
    </script>
</body>
</html>
